cmake_minimum_required(VERSION 3.6)

set(
    SourceSet
    main.cpp
    dict.cpp
    util.cpp
    ld2reader.cpp
)

if (ANDROID)
    add_library(
        dict SHARED
        ${SourceSet}
        bridge.cpp
    )
    find_library(
        log-lib
        log
    )

    find_library(
        zip-lib
        z
    )
    target_link_libraries (
        dict
        ${log-lib}
        ${zip-lib}
    )
else()
    add_executable(dict ${SourceSet})
    target_link_libraries(dict libz.a)
endif()